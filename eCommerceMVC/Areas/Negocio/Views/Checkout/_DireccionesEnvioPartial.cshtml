@model List<eCommerce.Entities.DireccionEnvio>

<div class="direcciones-existentes mb-3">
    <h6>Seleccionar dirección guardada:</h6>
    @foreach (var direccion in Model)
    {
        <div class="form-check direccion-card">
            <input type="radio" name="DireccionEnvioSeleccionada" value="@direccion.IdDireccionEnvio"
                   class="form-check-input direccion-radio" id="direccion_@direccion.IdDireccionEnvio">
            <label class="form-check-label w-100" for="direccion_@direccion.IdDireccionEnvio">
                <div class="card direccion-option">
                    <div class="card-body p-3">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <strong>@direccion.NombreCompleto</strong>
                                @if (direccion.EsDireccionPrincipal)
                                {
                                    <span class="badge bg-primary ms-2">Principal</span>
                                }
                                <br>
                                <small class="text-muted">
                                    @direccion.Direccion<br>
                                    @direccion.Ciudad, @direccion.Provincia - @direccion.CodigoPostal<br>
                                    Tel: @direccion.Telefono
                                    @if (!string.IsNullOrEmpty(direccion.Referencias))
                                    {
                                        <br>
                                
                                        <em>@direccion.Referencias</em>
                                    }
                                </small>
                            </div>
                            <div class="costo-envio" id="costo_@direccion.IdDireccionEnvio" style="display: none;">
                                <small class="text-success"><strong>Envío: $<span class="costo-valor">0</span></strong></small>
                            </div>
                        </div>
                    </div>
                </div>
            </label>
        </div>
    }
</div>

<style>
    .direccion-card {
        margin-bottom: 15px;
    }

    .direccion-option {
        border: 2px solid #e9ecef;
        transition: all 0.3s ease;
        cursor: pointer;
    }

        .direccion-option:hover {
            border-color: #007bff;
            box-shadow: 0 2px 4px rgba(0,123,255,0.1);
        }

    .form-check-input:checked + label .card {
        border-color: #007bff;
        background-color: #f8f9ff;
    }
</style>